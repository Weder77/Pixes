{% extends 'base.html.twig' %}

{% block header %}{% endblock %}

{% block messages %}{% endblock %}

{% block body %}
	<main class="container-fluid">
		<div class="row">
			<nav class="col-md-2 pt-4 d-none d-md-block bg-light sidebar">
				<div class="sidebar-sticky pl-5">
					<div class="mt-4 pl-3 pb-3">

						{% if app.user.profile.picture != null %}
							<img src="{{ asset(app.user.profile.picture) }}" alt="Photo de profil" class="rounded-circle ml-1 mb-3" height="100" width="100">
						{% else %}
							<img src="https://semantic-ui.com/images/wireframe/image.png" alt="Photo de profil" class="rounded-circle ml-1 mb-3" height="100" width="100">
						{% endif %}


						<br/>
						<span class="font-weight-bold">
							{{ app.user.profile.firstname }}
							{{ app.user.profile.lastname }}
						</span>
						<br/>
						<span class="text-muted font-italic">
							{{ app.user.email }}
						</span>
					</div>
					<ul class="nav flex-column mt-5 pt-5">
						<li class="nav-item pb-4">
							<a class="nav-link text-dark h5" href="{{ path('admin_profile') }}">
								<i class="fas fa-user-alt mr-2 text-primary" style="font-size: 17px;"></i>
								Mes informations
							</a>
						</li>
						<li class="nav-item pb-4">
							<a class="nav-link text-dark h5" href="{{ path('admin_index') }}">
								<i class="fas fa-tachometer-alt mr-2 text-primary" style="font-size: 17px;"></i>
								Dashboard
							</a>
						</li>
						<li class="nav-item pb-4">
							<a class="nav-link text-dark h5" href="{{ path('admin_orders') }}">
								<i class="fas fa-receipt mr-3 text-primary" style="font-size: 17px;"></i>
								Ventes
							</a>
						</li>
						<li class="nav-item pb-4">
							<a class="nav-link text-dark h5" href="{{ path('admin_games') }}">
								<i class="fas fa-gamepad mr-2 text-primary" style="font-size: 17px;"></i>
								Jeux
							</a>
						</li>
						<li class="">
							<a class="nav-link text-dark h5" href="{{ path('admin_users') }}">
								<i class="fas fa-users mr-2 text-primary" style="font-size: 17px;"></i>
								Utilisateurs
							</a>
						</li>
					</ul>
				</div>
			</nav>
			<div class="col-10 pt-4 px-5">
				<div class="pt-4">
					<div class="d-flex justify-content-between mb-4">
						<h1 class="h3">
							{% block title %}{% endblock %}
						</h1>

						<div>
							<a href="{{ path('index') }}" class="h5">
								<i class="fas fa-arrow-left" style="font-size: 16px;"></i>
								Retour au menu
							</a>
						</div>
					</div>
					<div class="container">
						{% for message in app.flashes('success') %}
							<div class="alert alert-success mt-4 text-center">
								{{ message }}
							</div>
						{% endfor %}

						{% for message in app.flashes('error') %}
							<div class="alert alert-danger mt-4 text-center">
								{{ message }}
							</div>
						{% endfor %}
					</div>
					{% block content %}{% endblock %}
				</div>
			</div>
		</div>
	</main>
{% endblock %}


{% block javascripts %}
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
	<script>
		var ctx = document.getElementById("myChart");
var myChart = new Chart(ctx, {
type: 'line',
data: {
labels: [
"Sunday",
"Monday",
"Tuesday",
"Wednesday",
"Thursday",
"Friday",
"Saturday"
],
datasets: [
{
data: [
12,
19,
9,
13,
17,
18,
15
],
lineTension: 0,
backgroundColor: 'transparent',
borderColor: '#007bff',
borderWidth: 4,
pointBackgroundColor: '#007bff'
}
]
},
options: {
scales: {
yAxes: [
{
ticks: {
beginAtZero: false
}
}
]
},
legend: {
display: false
}
}
});
	</script>
{% endblock %}
